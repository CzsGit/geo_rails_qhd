function showLineChart(e,t,i,a,n){var r;"HOUR"==n?r="%Y-%m-%d %H:%M":"DAY"==n?r="%Y-%m-%d":"MONTH"==n&&(r="%Y-%m");var l;l=i.length<50?!0:!1,$("#"+e).highcharts({chart:{type:"spline",zoomType:"x",spacingLeft:0,spacingRight:0},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:{title:{text:""},min:0},tooltip:{enabled:!0,formatter:function(){var e=""+Highcharts.dateFormat(r,this.x)+"<br/>"+this.series.name+": <b>"+this.y+"</b>"+a;return null!=this.point.primary_pollutant&&(e=e+"<br/>\u9996\u8981\u6c61\u67d3\u7269\uff1a"+this.point.primary_pollutant),e}},plotOptions:{series:{marker:{enabled:l,radius:5},enableMouseTracking:!0,turboThreshold:0}},legend:{enabled:!1},credits:{enabled:!1},series:[{name:t,data:i}]})}function showLineChartCompare(e,t,a,n,r,l,o,s,d,c){var h;"HOUR"==c?h="%Y-%m-%d %H:%M":"DAY"==c?h="%Y-%m-%d":"MONTH"==c&&(h="%Y-%m");var p;p=l.length<50?!0:!1,$("#"+e).highcharts({chart:{type:"spline",zoomType:"x",spacingLeft:0,spacingRight:0},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:{title:{text:t}},tooltip:{shared:!0,useHTML:!0,formatter:function(){for(tip=""+Highcharts.dateFormat(h,this.x)+"<br/><hr style=\"margin:3px 0;\"/><table width='120px'>",i=0;i<this.points.length;i++)winddirection=null!=this.points[i].point.winddirection?" "+this.points[i].point.winddirection:"",tip=tip+"<tr><td style='color:"+this.points[i].series.color+"'>"+this.points[i].series.name+": </td><td align='right'><b>"+this.points[i].y+"</b>"+d+winddirection+"</td></tr>";return tip+="</table>",tip}},plotOptions:{series:{marker:{enabled:p,radius:5},enableMouseTracking:!0,turboThreshold:0}},legend:{enabled:!0},credits:{enabled:!1},series:[{name:a,data:l,color:"#3399CC"},{name:n,data:o,color:"#D26900"},{name:r,data:s,color:"#A5A552"}]})}function showLineChartWithAQI(e,t,i,a,n,r){var l,o="#3399CC",s="#D26900";"HOUR"==r?l="%Y-%m-%d %H:%M":"DAY"==r?l="%Y-%m-%d":"MONTH"==r&&(l="%Y-%m");var d;d=i.length<50?!0:!1,$("#"+e).highcharts({chart:{type:"spline",zoomType:"x",spacingLeft:0,spacingRight:0},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:[{title:{text:"AQI",style:{color:o}},labels:{format:"{value}",style:{color:o}},min:0},{title:{text:t,style:{color:s}},labels:{format:"{value}"+n,style:{color:s}},opposite:!0}],tooltip:{shared:!0,useHTML:!0,formatter:function(){if(2==this.points.length){var e=""+Highcharts.dateFormat(l,this.x)+"<br/>"+this.points[0].series.name+": <b>"+this.points[0].y+"</b><br/>"+this.points[1].series.name+": <b>"+this.points[1].y+"</b>"+n;null!=this.points[1].point.winddirection&&(e=e+"<br/>\u98ce\u5411:<b>"+this.points[1].point.winddirection+"</b>")}else{var e=""+Highcharts.dateFormat(l,this.x)+"<br/>"+this.points[0].series.name+": <b>"+this.points[0].y+"</b>";"AQI"!=this.points[0].series.name&&(e+=n),null!=this.points[0].point.winddirection&&(e=e+"<br/>\u98ce\u5411:<b>"+this.points[0].point.winddirection+"</b>")}return e}},plotOptions:{series:{marker:{enabled:d,radius:5},enableMouseTracking:!0,turboThreshold:0}},legend:{enabled:!0},credits:{enabled:!1},series:[{name:"AQI",data:a,color:o,yAxis:0},{name:t,data:i,color:s,yAxis:1}]})}function showLineChartAll(e,t,a,n,r,l,o,s,d,c,h,p){var m;"HOUR"==t?m="%Y-%m-%d %H:%M":"DAY"==t?m="%Y-%m-%d":"MONTH"==t&&(m="%Y-%m");var u;u=a.length<50?!0:!1,$("#"+e).highcharts({chart:{type:"spline",zoomType:"x",spacingLeft:0,spacingRight:0},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:[{title:{text:"AQI"},labels:{format:"{value}"},min:0},{title:{text:"PM2.5 PM10 SO2 NO2 O3",enabled:!1},labels:{format:"{value}ug/m3",enabled:!1},opposite:!1},{title:{text:"CO",enabled:!1},labels:{format:"{value}mg/m3",enabled:!1},opposite:!1},{title:{text:"\u6e29\u5ea6",enabled:!1},labels:{format:"{value}\u2103",enabled:!1},opposite:!0},{title:{text:"\u6e7f\u5ea6",enabled:!1},labels:{format:"{value}%",enabled:!1},opposite:!0},{title:{text:"\u98ce\u7ea7",enabled:!1},labels:{format:"{value}\u7ea7",enabled:!1},opposite:!0}],tooltip:{shared:!0,useHTML:!0,formatter:function(){tip=""+Highcharts.dateFormat(m,this.x)+"<br/><hr style=\"margin:3px 0;\"/><table width='150px'>";var e=null,a=null;for(i=0;i<this.points.length;i++)"\u98ce\u7ea7"==this.points[i].series.name?(tip=tip+"<tr><td style='color:"+this.points[i].series.color+"'>"+this.points[i].series.name+": </td><td align='right'><b>"+this.points[i].y+"</b>\u7ea7 "+this.points[i].point.winddirection+"</td></tr>",e=this.points[i].point.weather):(unit="",name=this.points[i].series.name,"PM2.5"==name||"PM10"==name||"SO2"==name||"NO2"==name||"O3"==name?unit="ug/m3":"CO"==name?unit="mg/m3":"\u6e29\u5ea6"==name?unit="\u2103":"\u6e7f\u5ea6"==name&&(unit="%"),tip=tip+"<tr><td style='color:"+this.points[i].series.color+"'>"+this.points[i].series.name+": </td><td align='right'><b>"+this.points[i].y+"</b>"+unit+"</td></tr>","AQI"==name);return null!=a&&(tip=tip+"<tr><td >\u7b49\u7ea7: </td><td align='right' >"+a+"</td></tr>"),null!=e&&""!=e&&"MONTH"!=t&&(tip=tip+"<tr><td >\u5929\u6c14: </td><td align='right'>"+e+"</td></tr>"),tip+="</table>",tip}},plotOptions:{series:{marker:{enabled:u,radius:5},enableMouseTracking:!0,turboThreshold:0}},legend:{enabled:!0},credits:{enabled:!1},series:[{name:"AQI",data:a,yAxis:0},{name:"PM2.5",data:n,yAxis:1},{name:"PM10",data:r,yAxis:1},{name:"SO2",data:l,yAxis:1},{name:"CO",data:s,yAxis:2},{name:"NO2",data:o,yAxis:1},{name:"O3",data:d,yAxis:1},{name:"\u6e29\u5ea6",data:c,yAxis:3},{name:"\u6e7f\u5ea6",data:h,yAxis:4},{name:"\u98ce\u7ea7",data:p,yAxis:5}]})}function showRankChart(e,t,i,a,n,r,l){var o;"HOUR"==r?(o="%Y-%m-%d %H:%M",typestr="\u5c0f\u65f6"):"DAY"==r?(o="%Y\u5e74%m\u6708%d\u65e5",typestr="\u65e5",label="AQI"):"MONTH"==r&&(o="%Y\u5e74%m\u6708",typestr="\u6708",label="\u7efc\u5408\u6307\u6570");var s;s=a.length<50?!0:!1,$("#"+e).highcharts({chart:{type:"column",zoomType:"x",spacingLeft:0,spacingRight:0},title:{text:t+i+typestr+"\u53d8\u5316",style:{color:"#3E576F",fontSize:"30px"}},subtitle:{text:l},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:{title:{text:""},min:0},tooltip:{enabled:!0,formatter:function(){return""+Highcharts.dateFormat(o,this.x)+this.point.type+"<br/>"+this.series.name+": <b>"+this.y+"</b>"+n+"<br/>"+label+": "+this.point.index+"<br/>\u9996\u8981\u6c61\u67d3\u7269: "+this.point.primary_pollutant}},plotOptions:{series:{marker:{enabled:s,radius:6},enableMouseTracking:!0,turboThreshold:0}},legend:{enabled:!0},credits:{enabled:!1},series:[{name:i,data:a,dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",x:4,y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif",textShadow:"0 0 3px black"}}}]});var d=$("#"+e).highcharts();null!=d&&d.yAxis[0].addPlotLine({value:10,color:"blue",label:{text:"\u524d\u5341\u540d\u754c\u7ebf",align:"left",x:5,color:"blue"},width:2,id:"base-fuel"})}function showPieChart(e,t,i){$("#"+e).highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:t+"\u5206\u5e03\u60c5\u51b5"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1,color:"#000000",connectorColor:"#000000",format:"<b>{point.name}</b>"},showInLegend:!0,events:{click:function(){}}}},legend:{enabled:!0},credits:{enabled:!1},series:[{type:"pie",name:"\u767e\u5206\u7387",data:i}]})}function showColumnChart(e,t,i,a,n,r,l,o){$("#"+e).highcharts({chart:{type:"bar"},title:{text:n+"\u76d1\u6d4b\u7ad9\u70b9"+t+"\u6bd4\u8f83",style:{color:"#3E576F",fontSize:"30px"}},tooltip:{pointFormat:"{series.name}: <b>{point.y}</b>"+o},subtitle:{text:"\u3010"+r+"\u3011\u7ad9\u70b9\u6700\u597d,\u3010"+l+"\u3011\u7ad9\u70b9\u6700\u5dee"},xAxis:{categories:i},yAxis:{min:0,title:{text:""}},plotOptions:{column:{pointPadding:.2,borderWidth:0,events:{click:function(){}}}},legend:{layout:"vertical",align:"left",x:50,verticalAlign:"top",y:30,floating:!0,backgroundColor:"#FFFFFF",enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},series:[{name:t,data:a,dataLabels:{enabled:!0,rotation:0,color:"#FFFFFF",align:"right",x:0,y:0,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif",textShadow:"0 0 3px black"}}}]})}function converTimeFormat(e){return null!=e?(e=e.replace("-","/"),e=e.replace("-","/"),new Date(e)):null}function convertMonthFormat(e){return null!=e?(year=parseInt(parseInt(e)/100),e=parseInt(e)%100,time=year+"-"+e+"-01",converTimeFormat(time)):void 0}function getWindDirectionUrl(e){var t=0,i=null;switch(e){case"\u4e1c\u98ce":t=1;break;case"\u4e1c\u5357\u98ce":t=2;break;case"\u5357\u98ce":t=3;break;case"\u897f\u5357\u98ce":t=4;break;case"\u897f\u98ce":t=5;break;case"\u897f\u5317\u98ce":t=6;break;case"\u5317\u98ce":t=7;break;case"\u4e1c\u5317\u98ce":t=8}return t>0&&(i="url(resource/img/arrow/"+t+".png)"),i}function getColorByIndex(e){switch(e){case 0:color="#999";break;case 1:color="#43ce17";break;case 2:color="#efdc31";break;case 3:color="#fa0";break;case 4:color="#ff401a";break;case 5:color="#d20040";break;case 6:color="#9c0a4e"}return color}function getQualityByIndex(e){switch(e){case 0:quality="\u65e0";break;case 1:quality="\u4f18";break;case 2:quality="\u826f";break;case 3:quality="\u8f7b\u5ea6\u6c61\u67d3";break;case 4:quality="\u4e2d\u5ea6\u6c61\u67d3";break;case 5:quality="\u91cd\u5ea6\u6c61\u67d3";break;case 6:quality="\u4e25\u91cd\u6c61\u67d3"}return quality}function getQualityByAqi(e){var t=null;return t=0>=e?"\u65e0":50>=e?"\u4f18":100>=e?"\u826f":150>=e?"\u8f7b\u5ea6\u6c61\u67d3":200>=e?"\u4e2d\u5ea6\u6c61\u67d3":300>=e?"\u91cd\u5ea6\u6c61\u67d3":"\u4e25\u91cd\u6c61\u67d3"}function getAQILevelIndex(e){return 0==e?level=0:200>=e?(level=Math.ceil(e/50),level<0&&(level=1)):level=300>e?5:6,level}function getPM25LevelIndex(e){return level=0==e?0:35>=e?1:75>=e?2:115>=e?3:150>e?4:250>=e?5:6,level}function getPM10LevelIndex(e){return level=0==e?0:50>=e?1:150>=e?2:250>=e?3:350>e?4:420>=e?5:6,level}function getSO2LevelIndex(e){return level=0==e?0:150>=e?1:500>=e?2:650>=e?3:800>e?4:5,level}function getNO2LevelIndex(e){return level=0==e?0:100>=e?1:200>=e?2:700>=e?3:1200>e?4:2340>e?5:6,level}function getO3LevelIndex(e){return level=0==e?0:160>=e?1:200>=e?2:300>=e?3:400>e?4:800>e?5:6,level}function getCOLevelIndex(e){return level=0==e?0:5>=e?1:10>=e?2:35>=e?3:60>e?4:90>e?5:6,level}var alfa=.8,valuePlotBaud=[{from:0,to:50,color:"rgba(0, 254, 3, "+alfa+")",label:{text:"\u4f18",style:{color:"#606060"}}},{from:51,to:100,color:"rgba(254, 245, 0, "+alfa+")",label:{text:"\u826f",style:{color:"#606060"}}},{from:101,to:150,color:"rgba(254, 125, 0, "+alfa+")",label:{text:"\u8f7b\u5ea6\u6c61\u67d3",style:{color:"#606060"}}},{from:151,to:200,color:"rgba(255, 3, 3, "+alfa+")",label:{text:"\u4e2d\u5ea6\u6c61\u67d3",style:{color:"#606060"}}},{from:201,to:300,color:"rgba(188, 3,205 , "+alfa+")",label:{text:"\u91cd\u5ea6\u6c61\u67d3",style:{color:"#606060"}}},{from:301,to:600,color:"rgba(72, 0, 78, "+alfa+")",label:{text:"\u4e25\u91cd\u6c61\u67d3",style:{color:"#606060"}}}];String.prototype.getBytes=function(){var e=this.match(/[^\x00-\xff]/gi);return this.length+(null==e?0:e.length)},String.prototype.cutBytes=function(e,t){var i=this.toString();if(i.getBytes()<=e)return i;for(var a="",n=0,r=0;r<i.length;r++){var l=i[r].match(/[^\x00-\xff]/gi);if(a+=i[r],n+=null==l?1:2,n>=e)return r+1<i.length?a+t:a}return""},Date.prototype.pattern=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},i={0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"\u661f\u671f":"\u5468":"")+i[this.getDay()+""]));for(var a in t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e};